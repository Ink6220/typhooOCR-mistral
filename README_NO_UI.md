============================================================
Readme: Typhoon Transformers OCR Processor
============================================================

คำอธิบาย
------------------------------------------------------------
สคริปต์นี้เป็นเครื่องมือสำหรับทำ OCR (Optical Character Recognition) บนไฟล์เอกสาร (PDF, JPG, PNG) ผ่าน Command Line โดยใช้โมเดลปัญญาประดิษฐ์ 2 ตัวทำงานร่วมกัน:
1.  **Dolphin Model**: สำหรับวิเคราะห์โครงสร้างและลำดับการอ่าน (Layout Analysis) ของเอกสาร
2.  **Typhoon-OCR Model**: สำหรับอ่านและแปลงข้อมูลในแต่ละส่วน (เช่น ข้อความ, ตาราง) ให้เป็นดิจิทัล โดยเน้นภาษาไทยเป็นหลัก

สคริปต์ถูกออกแบบมาให้ทำงานโดยไม่มีส่วนติดต่อผู้ใช้ (No UI) เพื่อให้ง่ายต่อการนำไปใช้ในระบบอัตโนมัติต่างๆ


คุณสมบัติหลัก
------------------------------------------------------------
- รองรับไฟล์ PDF และไฟล์รูปภาพ (JPG, PNG, etc.)
- แยกแยะระหว่างย่อหน้าข้อความธรรมดา (Paragraph) และตาราง (Table) ได้อย่างแม่นยำ
- แปลงตารางในเอกสารให้อยู่ในรูปแบบโค้ด HTML
- บันทึกผลลัพธ์การ OCR เป็นไฟล์ข้อความ (.txt) ในรูปแบบที่อ่านง่าย
- แสดงผลลัพธ์สุดท้ายในรูปแบบ HTML บน Console


สิ่งที่ต้องมี (Requirements)
------------------------------------------------------------
คุณจำเป็นต้องติดตั้งไลบรารี Python ต่อไปนี้:
- torch
- transformers
- Pillow (PIL)
- PyMuPDF
- loguru
- opencv-python
- numpy


โครงสร้างไฟล์ (File Structure)
------------------------------------------------------------
เพื่อให้สคริปต์ทำงานได้อย่างถูกต้อง กรุณาจัดเรียงไฟล์และโฟลเดอร์ตามโครงสร้างนี้:

/your_project_folder/
|
|-- NO_UI_typhoon_tranformers7B_v1_4_app.py  <-- ไฟล์สคริปต์หลัก
|-- readme.txt                             <-- ไฟล์ที่คุณกำลังอ่าน
|
|-- utils/                                 <-- โฟลเดอร์สำหรับโค้ดเสริม
|   |-- __init__.py
|   |-- utils.py                         <-- โค้ดสำหรับจัดการรูปภาพและพิกัด
|   |-- markdown_utils.py                <-- โค้dสำหรับแปลงผลลัพธ์เป็น Markdown
|
|-- ocr_results/                           <-- โฟลเดอร์สำหรับเก็บผลลัพธ์ (จะถูกสร้างอัตโนมัติ)
|
`-- your_document.pdf                      <-- ไฟล์เอกสารที่คุณต้องการประมวลผล


ขั้นตอนการติดตั้ง (Installation)
------------------------------------------------------------
1.  **สร้างสภาพแวดล้อม (Optional but Recommended)**:
    python -m venv venv
    source venv/bin/activate  # บน Linux/macOS
    .\venv\Scripts\activate   # บน Windows

2.  **ติดตั้งไลบรารีที่จำเป็น**:
    pip install torch transformers Pillow PyMuPDF loguru opencv-python numpy

3.  **เตรียมไฟล์ `utils`**:
    สร้างโฟลเดอร์ชื่อ `utils` และนำไฟล์ `utils.py` กับ `markdown_utils.py` ที่เกี่ยวข้องกับโปรเจกต์นี้มาใส่ไว้ข้างใน


วิธีการใช้งาน (How to Use)
------------------------------------------------------------
1.  **แก้ไขสคริปต์**:
    - เปิดไฟล์ `NO_UI_typhoon_tranformers7B_v1_4_app.py`
    - เลื่อนไปที่ส่วนล่างสุดของไฟล์ (บล็อก `if __name__ == '__main__':`)
    - แก้ไขตัวแปร `TEST_FILE_PATH` ให้เป็นพาธไปยังไฟล์ที่คุณต้องการทดสอบ
    - แก้ไขตัวแปร `TEST_PAGE_NUMBER` ให้เป็นหมายเลขหน้าที่คุณต้องการประมวลผล (เริ่มนับที่ 1)

    ตัวอย่าง:
    # TEST_FILE_PATH = "documents/my_report.pdf"
    # TEST_PAGE_NUMBER = 3

2.  **รันสคริปต์ผ่าน Command Line**:
    เปิด Terminal หรือ Command Prompt, ไปยังโฟลเดอร์โปรเจกต์ของคุณ แล้วรันคำสั่ง:
    python NO_UI_typhoon_tranformers7B_v1_4_app.py

3.  **รอการประมวลผล**:
    ครั้งแรกที่รัน สคริปต์จะใช้เวลาในการดาวน์โหลดโมเดลต่างๆ ซึ่งอาจใช้เวลานานพอสมควรขึ้นอยู่กับความเร็วอินเทอร์เน็ต การรันครั้งถัดไปจะเร็วขึ้นมาก


ผลลัพธ์ที่ได้ (Output)
------------------------------------------------------------
1.  **บนหน้าจอ (Console)**: สคริปต์จะแสดงสถานะการทำงานและพิมพ์ผลลัพธ์สุดท้ายในรูปแบบโค้ด HTML
2.  **ไฟล์ผลลัพธ์**: ไฟล์ `.txt` ที่มีผลลัพธ์ของหน้าเอกสารนั้นๆ จะถูกบันทึกไว้ในโฟลเดอร์ `ocr_results` โดยอัตโนมัติ
    (เช่น `my_report_page_3_1678886400.txt`)